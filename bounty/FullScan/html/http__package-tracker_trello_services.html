<html><body><script src="https://p.trellocdn.com/power-up.min.js"></script><script>!function e(t,r,n){function a(o,i){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!i&&c)return c(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=r[o]={exports:{}};t[o][0].call(u.exports,function(e){var r=t[o][1][e];return a(r||e)},u,u.exports,e,t,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";var n=e("../src/api"),a=(e("../src/carrier-data"),e("../src/data-for-url")),s=e("../src/i18n-settings"),o=e("../src/package-tracker-button"),i=e("../src/package-tracker-error"),c=e("../src/util"),h=e("../src/urls"),u=TrelloPowerUp.Promise,l="./images/package-tracker-icon.svg";TrelloPowerUp.initialize({"attachment-sections":function(e,t){var r=t.entries.filter(function(t){return h.parse(e,t.url).trackingNumber});return r.length>0?[{claimed:r,title:e.localizeKey("shipments"),icon:l,content:{type:"iframe",url:e.signUrl('./tracker.html?ver=876cbb5b08&')}}]:[]},"card-badges":function(e,t){var r=t.attachments.map(function(e){return e.url}).filter(function(t){return h.parse(e,t).trackingNumber});return r.length>0?u.map(r,function(t){var r=h.parse(e,t);return n.trackForCarrier(e,r.trackingNumber,r.carrier).then(function(e){var t={status:e.tracking_status.status,eta:e.eta};return t.eta&&(t.eta=c.normalizeDate(new Date(t.eta))),t})}).then(function(t){var r=t.filter(function(e){return"TRANSIT"===e.status});r=r.concat(t.filter(function(e){return"UNKNOWN"===e.status&&e.eta}));var n=t.filter(function(e){return"DELIVERED"===e.status}),a=t.filter(function(e){return"FAILURE"===e.status}),s=t.filter(function(e){return"UNKNOWN"===e.status&&!e.eta}),o=[];if(r.length>0){var i=(t.length>1?r.length+" ":"")+e.localizeKey("in_transit");1===r.length&&r[0].eta&&(i=c.formatDate(e,r[0].eta)),o.push({icon:l,text:i,color:"yellow"})}return n.length>0&&o.push({icon:l,text:(t.length>1?n.length+" ":"")+e.localizeKey("delivered"),color:"green"}),a.length>0&&o.push({icon:l,text:(t.length>1?a.length+" ":"")+e.localizeKey("delayed"),color:"red"}),s.length>0&&o.push({icon:l,text:(t.length>1?s.length+" ":"")+e.localizeKey("pending"),color:"orange"}),o}).catch(i,function(){throw e.NotHandled()}):[]},"card-buttons":function(e){return e.memberCanWriteToModel("card")?[{icon:l,text:e.localizeKey("track_package"),callback:o}]:[]},"format-url":function(e,t){var r=a(e,t.url,t.name);return{icon:l,text:r.title}}},{targetOrigin:"https://trello.com",localization:s})},{"../src/api":2,"../src/carrier-data":3,"../src/data-for-url":4,"../src/i18n-settings":5,"../src/package-tracker-button":6,"../src/package-tracker-error":7,"../src/urls":9,"../src/util":10}],2:[function(e,t,r){"use strict";var n=e("./package-tracker-error"),a=TrelloPowerUp.Promise,s={400:n.BadRequest,404:n.NotFound},o=function(e,t){return new(s[e]||n.Unknown)(t)},i=function(e,t,r){var s=Array.isArray(t)?t.join("/"):t;return new a(function(e,t){var a=new XMLHttpRequest,i=Object.keys(r||{}).map(function(e){return[e,encodeURIComponent(r[e])].join("=")}).join("&");a.open("GET","./"+s+"?"+i,!0),a.onload=function(){var r=void 0;try{return r=JSON.parse(a.responseText),200===a.status?e(r):t(o(a.status,r.error))}catch(e){return t(new n.InvalidResponse(e.message))}},a.send()})};t.exports={get:i,trackForCarrier:function(e,t,r){return i(0,["track",t],{carrier:r})}}},{"./package-tracker-error":7}],3:[function(e,t,r){"use strict";t.exports={australia_post:{trueUTC:!0},canada_post:{trueUTC:!0},deutsche_post:{trueUTC:!0},dhl_germany:{trueUTC:!1},dhl_ecommerce:{trueUTC:!1},dhl_express:{trueUTC:!1},fedex:{trueUTC:!0},gls_de:{trueUTC:!0},gls_fr:{trueUTC:!0},lasership:{trueUTC:!0},mondial_relay:{trueUTC:!0},newgistics:{trueUTC:!0},ontrac:{trueUTC:!0},purolator:{trueUTC:!0},ups:{trueUTC:!0},usps:{trueUTC:!0}}},{}],4:[function(e,t,r){"use strict";var n=e("./urls");t.exports=function(e,t,r){var a=n.parse(e,t);if(!a.trackingNumber)throw e.NotHandled("Unable to locate a tracking number");return r?{url:t,title:r}:a.friendlyCarrier?{url:t,title:a.friendlyCarrier+": #"+a.trackingNumber}:{url:t,title:e.localizeKey("tracking_number_number",{trackingNumber:a.trackingNumber})}}},{"./urls":9}],5:[function(e,t,r){"use strict";t.exports={defaultLocale:"en",supportedLocales:["cs","de","en","es","fi","fr","hu","it","ja","nb","nl","pl","pt-BR","ru","sv","th","tr","uk","vi","zh-Hans","zh-Hant"],resourceUrl:"./strings/{locale}.json?ver=2acc7b3b1c"}},{}],6:[function(e,t,r){"use strict";t.exports=function(e){return e.popup({title:e.localizeKey("track_package"),url:'./attach.html?ver=2301d58ba0&',width:200,height:78})}},{}],7:[function(e,t,r){"use strict";t.exports=TrelloPowerUp.util.makeErrorEnum("PackageTracker",["Unknown","BadRequest","InvalidResponse","NotFound"])},{}],8:[function(e,t,r){"use strict";t.exports={aramex:"Aramex",asendia_us:"Asendia",borderguru:"BorderGuru",boxberry:"Boxberry",bring:"Bring / Posten Norge",canada_post:"Canada Post",correios_br:"Correios Brazil",deutsche_post:"Deutsche Post",dhl_benelux:"DHL Benelux",dhl_ecommerce:"DHL eCommerce",dhl_express:"DHL Express",dpd_uk:"DPD UK",estafeta:"Estafeta",fastway:"Fastway",fedex:"FedEx",gls_de:"GLS Germany",gls_fr:"GLS France",globegistics:"Globegistics",gophr:"Gophr",gso:"GSO",hermes_uk:"Hermes UK",lasership:"Lasership",mondial_relay:"Mondial Relay",new_zealand_post:"New Zealand Post / Pace / CourierPost)",newgistics:"Newgistics",ontrac:"OnTrac",orangeds:"OrangeDS",parcel:"Parcel",posti:"Posti",rr_donnelley:"RR Donnelley",sendle:"Sendle",ups:"UPS",usps:"USPS",yodel:"Yodel"}},{}],9:[function(e,t,r){"use strict";var n=e("./supportedCarriers"),a=e("url"),s={"posten-norge":"bring","brazil-correios":"correios_br","dhl-benelux":"dhl_benelux","new-zealand-post":"new_zealand_post",rrdonnelley:"rr_donnelley"};t.exports={parse:function(e,t){var r={url:t},o="";switch(a.parse(t).hostname){case"packagetrackr.com":case"www.packagetrackr.com":(o=/\/track\/([a-z_]+)\/(\w+)/.exec(a.parse(t).path))&&(r.carrier=o[1],r.trackingNumber=o[2]);break;case"ups.com":case"wwwapps.ups.com":r.carrier="ups",r.friendlyCarrier=n.ups,(o=/[\?&]trackNums=(\w+)/.exec(t))&&(r.trackingNumber=o[1]);break;case"fedex.com":case"www.fedex.com":r.carrier="fedex",r.friendlyCarrier=n.fedex,(o=/[\?&]tracknumbers=(\w+)/.exec(t))&&(r.trackingNumber=o[1]);break;case"usps.com":case"tools.usps.com":r.carrier="usps",r.friendlyCarrier=n.usps,(o=/[\?&]tLabels=(\w+)/.exec(t))&&(r.trackingNumber=o[1]);break;case"stamps.com":case"www.stamps.com":r.carrier="usps",r.friendlyCarrier=n.usps,(o=/[\?&]confirmation=(\w+)/.exec(t))&&(r.trackingNumber=o[1]);break;case"dhl.com":case"www.dhl.com":case"track.dhl-usa.com":r.carrier="dhl_express",r.friendlyCarrier=n.dhl_express,(o=/[\?&](?:ShipmentNumber|trackingnumber|AWB)=(\w+)/.exec(t))&&(r.trackingNumber=o[1]);break;case"ontrac.com":case"www.ontrac.com":r.carrier="ontrac",r.friendlyCarrier=n.ontrac,(o=/[\?&]tracking=(\w+)/.exec(t))&&(r.trackingNumber=o[1]);break;case"lasership.com":case"www.lasership.com":r.carrier="lasership",r.friendlyCarrier=n.lasership,(o=/\/track\/(\w+)/.exec(t))&&(r.trackingNumber=o[1]);break;case"track.aftership.com":(o=/\/([a-z-]+)\/(\w+)/.exec(a.parse(t).path))&&(r.carrier=s[o[1]]||o[1],r.trackingNumber=o[2]);break;case"nolp.dhl.de":r.carrier="dhl_germany",r.friendlyCarrier=n.dhl_germany,(o=/[?&]idc=(\w+)/.exec(t))&&(r.trackingNumber=o[1])}return r},urlFor:function(e,t){var r="https://track.aftership.com";switch(e){case"dhl_germany":return"https://nolp.dhl.de/nextt-online-public/set_identcodes.do?idc="+t;case"bring":return r+"/posten-norge/"+t;case"correios_br":return r+"/brazil-correios/"+t;case"dhl_benelux":return r+"/dhl-benelux/"+t;case"rr_donnelley":return r+"/rrdonnelley/"+t;case"new_zealand_post":return r+"/new-zealand-post/"+t;case"posti":case"sendle":case"yodel":return r+"/"+e+"/"+t;default:return"https://www.packagetrackr.com/track/"+e.toLowerCase()+"/"+t}}}},{"./supportedCarriers":8,url:15}],10:[function(e,t,r){"use strict";var n=function(){return window.locale||(navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage)},a=function(){try{(new Date).toLocaleDateString("i")}catch(e){return"RangeError"===e.name}return!1},s=function(e,t){var r=void 0;return r=12*(t.getFullYear()-e.getFullYear()),r-=e.getMonth()+1,(r+=t.getMonth())<=0?0:r},o=function(e){var t=new Date(Date.now()),r=n();return t.getFullYear()===e.getFullYear()&&s(e,t)<10?e.toLocaleDateString(r,{month:"short",day:"numeric"}):e.toLocaleDateString(r,{month:"short",day:"numeric",year:"numeric"})},i=function(e,t){var r=e.localizeKeys(["january_short","february_short","march_short","april_short","may_short","june_short","july_short","august_short","september_short","october_short","november_short","december_short"]),n=new Date(Date.now());return n.getFullYear()===t.getFullYear()&&s(t,n)<10?e.localizeKey("short_date_no_year",{monthShort:r[t.getMonth()],dayNumber:t.getDate()}):e.localizeKey("short_date_with_year",{monthShort:r[t.getMonth()],dayNumber:t.getDate(),year:t.getFullYear()})},c=function(e,t){return a()?o(t):i(e,t)};t.exports={formatDate:c,formatDateWithTime:function(e,t){return c(e,t)+", "+t.toLocaleTimeString(n(),{hour:"numeric",minute:"2-digit"})},normalizeDate:function(e){return new Date(e.getTime()+6e4*e.getTimezoneOffset())}}},{}],11:[function(e,t,r){(function(e){!function(n){function a(e){throw new RangeError(A[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function o(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+s((e=e.replace(z,".")).split("."),t).join(".")}function i(e){for(var t,r,n=[],a=0,s=e.length;a<s;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<s?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function c(e){return s(e,function(e){var t="";return e>65535&&(t+=I((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=I(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function l(e,t,r){var n=0;for(e=r?q(e/C):e>>1,e+=q(e/t);e>D*k>>1;n+=w)e=q(e/D);return q(n+(D+1)*e/(e+_))}function p(e){var t,r,n,s,o,i,u,p,f,m,d=[],g=e.length,y=0,v=j,_=U;for((r=e.lastIndexOf(O))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&a("not-basic"),d.push(e.charCodeAt(n));for(s=r>0?r+1:0;s<g;){for(o=y,i=1,u=w;s>=g&&a("invalid-input"),((p=h(e.charCodeAt(s++)))>=w||p>q((b-y)/i))&&a("overflow"),y+=p*i,f=u<=_?x:u>=_+k?k:u-_,!(p<f);u+=w)i>q(b/(m=w-f))&&a("overflow"),i*=m;_=l(y-o,t=d.length+1,0==o),q(y/t)>b-v&&a("overflow"),v+=q(y/t),y%=t,d.splice(y++,0,v)}return c(d)}function f(e){var t,r,n,s,o,c,h,p,f,m,d,g,y,v,_,C=[];for(g=(e=i(e)).length,t=j,r=0,o=U,c=0;c<g;++c)(d=e[c])<128&&C.push(I(d));for(n=s=C.length,s&&C.push(O);n<g;){for(h=b,c=0;c<g;++c)(d=e[c])>=t&&d<h&&(h=d);for(h-t>q((b-r)/(y=n+1))&&a("overflow"),r+=(h-t)*y,t=h,c=0;c<g;++c)if((d=e[c])<t&&++r>b&&a("overflow"),d==t){for(p=r,f=w;m=f<=o?x:f>=o+k?k:f-o,!(p<m);f+=w)_=p-m,v=w-m,C.push(I(u(m+_%v,0))),p=q(_/v);C.push(I(u(p,0))),o=l(r,y,n==s),r=0,++n}++r,++t}return C.join("")}var m="object"==typeof r&&r&&!r.nodeType&&r,d="object"==typeof t&&t&&!t.nodeType&&t,g="object"==typeof e&&e;g.global!==g&&g.window!==g&&g.self!==g||(n=g);var y,v,b=2147483647,w=36,x=1,k=26,_=38,C=700,U=72,j=128,O="-",N=/^xn--/,T=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=w-x,q=Math.floor,I=String.fromCharCode;if(y={version:"1.4.1",ucs2:{decode:i,encode:c},decode:p,encode:f,toASCII:function(e){return o(e,function(e){return T.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return o(e,function(e){return N.test(e)?p(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(m&&d)if(t.exports==m)d.exports=y;else for(v in y)y.hasOwnProperty(v)&&(m[v]=y[v]);else n.punycode=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,s){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var h=e.length;c>0&&h>c&&(h=c);for(var u=0;u<h;++u){var l,p,f,m,d=e[u].replace(i,"%20"),g=d.indexOf(r);g>=0?(l=d.substr(0,g),p=d.substr(g+1)):(l=d,p=""),f=decodeURIComponent(l),m=decodeURIComponent(p),n(o,f)?a(o[f])?o[f].push(m):o[f]=[o[f],m]:o[f]=m}return o};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],13:[function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(o(e),function(o){var i=encodeURIComponent(a(o))+r;return s(e[o])?n(e[o],function(e){return i+encodeURIComponent(a(e))}).join(t):i+encodeURIComponent(a(e[o]))}).join(t):i?encodeURIComponent(a(i))+r+encodeURIComponent(a(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],14:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":12,"./encode":13}],15:[function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,r){if(e&&o.isObject(e)&&e instanceof n)return e;var a=new n;return a.parse(e,t,r),a}var s=e("punycode"),o=e("./util");r.parse=a,r.resolve=function(e,t){return a(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?a(e,!1,!0).resolveObject(t):t},r.format=function(e){return o.isString(e)&&(e=a(e)),e instanceof n?e.format():n.prototype.format.call(e)},r.Url=n;var i=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),p=["%","/","?",";","#"].concat(l),f=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");n.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),a=-1!==n&&n<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var u=e=c.join(a);if(u=u.trim(),!r&&1===e.split("#").length){var w=h.exec(u);if(w)return this.path=u,this.href=u,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=i.exec(u);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,u=u.substr(x.length)}if(r||x||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===u.substr(0,2);!_||x&&y[x]||(u=u.substr(2),this.slashes=!0)}if(!y[x]&&(_||x&&!v[x])){for(var C=-1,U=0;U<f.length;U++)-1!==(N=u.indexOf(f[U]))&&(-1===C||N<C)&&(C=N);var j,O;-1!==(O=-1===C?u.lastIndexOf("@"):u.lastIndexOf("@",C))&&(j=u.slice(0,O),u=u.slice(O+1),this.auth=decodeURIComponent(j)),C=-1;for(U=0;U<p.length;U++){var N=u.indexOf(p[U]);-1!==N&&(-1===C||N<C)&&(C=N)}-1===C&&(C=u.length),this.host=u.slice(0,C),u=u.slice(C),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var z=this.hostname.split(/\./),U=0,A=z.length;U<A;U++){var D=z[U];if(D&&!D.match(m)){for(var q="",I=0,R=D.length;I<R;I++)D.charCodeAt(I)>127?q+="x":q+=D[I];if(!q.match(m)){var S=z.slice(0,U),F=z.slice(U+1),L=D.match(d);L&&(S.push(L[1]),F.unshift(L[2])),F.length&&(u="/"+F.join(".")+u),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=s.toASCII(this.hostname));var P=this.port?":"+this.port:"",E=this.hostname||"";this.host=E+P,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!g[k])for(var U=0,A=l.length;U<A;U++){var K=l[U];if(-1!==u.indexOf(K)){var H=encodeURIComponent(K);H===K&&(H=escape(K)),u=u.split(K).join(H)}}var B=u.indexOf("#");-1!==B&&(this.hash=u.substr(B),u=u.slice(0,B));var M=u.indexOf("?");if(-1!==M?(this.search=u.substr(M),this.query=u.substr(M+1),t&&(this.query=b.parse(this.query)),u=u.slice(0,M)):t&&(this.search="",this.query={}),u&&(this.pathname=u),v[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",G=this.search||"";this.path=P+G}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,s="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var i=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),i&&"?"!==i.charAt(0)&&(i="?"+i),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+a+r+i+n},n.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(o.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,a=Object.keys(this),s=0;s<a.length;s++){var i=a[s];r[i]=this[i]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),h=0;h<c.length;h++){var u=c[h];"protocol"!==u&&(r[u]=e[u])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!v[e.protocol]){for(var l=Object.keys(e),p=0;p<l.length;p++){var f=l[p];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(_=(e.pathname||"").split("/");_.length&&!(e.host=_.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==_[0]&&_.unshift(""),_.length<2&&_.unshift(""),r.pathname=_.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",d=r.search||"";r.path=m+d}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||g||r.host&&e.pathname,x=w,k=r.pathname&&r.pathname.split("/")||[],_=e.pathname&&e.pathname.split("/")||[],C=r.protocol&&!v[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(""===k[0]?k[0]=r.host:k.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===_[0]?_[0]=e.host:_.unshift(e.host)),e.host=null),w=w&&(""===_[0]||""===k[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,k=_;else if(_.length)k||(k=[]),k.pop(),k=k.concat(_),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search))return C&&(r.hostname=r.host=k.shift(),(z=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=z.shift(),r.host=r.hostname=z.shift())),r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var U=k.slice(-1)[0],j=(r.host||e.host||k.length>1)&&("."===U||".."===U)||""===U,O=0,N=k.length;N>=0;N--)"."===(U=k[N])?k.splice(N,1):".."===U?(k.splice(N,1),O++):O&&(k.splice(N,1),O--);if(!w&&!x)for(;O--;O)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),j&&"/"!==k.join("/").substr(-1)&&k.push("");var T=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(C){r.hostname=r.host=T?"":k.length?k.shift():"";var z=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");z&&(r.auth=z.shift(),r.host=r.hostname=z.shift())}return(w=w||r.host&&k.length)&&!T&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=c.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":16,punycode:11,querystring:14}],16:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}]},{},[1]);</script></body></html>