<!DOCTYPE html>
<html>
  <head>
    <title>o2 Mixtapes Lifecycle Service</title>
    <link href='//fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'/>
    <link href='css/highlight.default.css' media='screen' rel='stylesheet' type='text/css'/>
    <link href='css/screen.css' media='screen' rel='stylesheet' type='text/css'/>
    <link rel="shortcut icon" href="icons/favicon.ico" type="image/x-icon"/>
    <link rel="icon" href="icons/favicon.ico" type="image/x-icon"/>
    <script type="text/javascript" src="lib/shred.bundle.js" /></script>
    <script src='lib/jquery-1.8.0.min.js' type='text/javascript'></script>
    <script src='lib/jquery.slideto.min.js' type='text/javascript'></script>
    <script src='lib/jquery.wiggle.min.js' type='text/javascript'></script>
    <script src='lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
    <script src='lib/handlebars-1.0.0.js' type='text/javascript'></script>
    <script src='lib/underscore-min.js' type='text/javascript'></script>
    <script src='lib/backbone-min.js' type='text/javascript'></script>
    <script src='lib/swagger.js' type='text/javascript'></script>
    <script src='swagger-ui.js' type='text/javascript'></script>
    <script src='lib/highlight.7.3.pack.js' type='text/javascript'></script>
    <script type="text/javascript">

      $(function () {
       	var docsSuffix = "api/api-docs";
       	var apiUrl = window.location.href;
       	var pos = apiUrl.indexOf("#", 0);
       	if (pos !== -1) {
       		 apiUrl = apiUrl.substring(0, pos);
       	}
       	if (apiUrl.charAt(apiUrl.length - 1) === "/") {
       		apiUrl += docsSuffix;
       	} else {
       		apiUrl += "/" + docsSuffix;
       	}
        window.swaggerUi = new SwaggerUi({
        apiKey: "Bearer XXX",
        apiKeyName: "Authorization",
        url: apiUrl,
        dom_id: "swagger-ui-container",
        supportedSubmitMethods: ['get', 'post', 'put', 'delete'],
        onComplete: function(swaggerApi, swaggerUi){
          if(console) {
            console.log("Loaded SwaggerUI")
          }
          $('pre code').each(function(i, e) {hljs.highlightBlock(e)});
        },
        onFailure: function(data) {
          if(console) {
            console.log("Unable to Load SwaggerUI");
            console.log(data);
          }
        },
        docExpansion: "none"
      });

      $('#input_apiKey').change(function() {
        var key = $('#input_apiKey')[0].value;
        console.log("key: " + key);
        if(key && key.trim() != "") {
          console.log("added key " + key);
          window.authorizations.add("key", new ApiKeyAuthorization('Authorization', 'Bearer {token_value}'.replace('{token_value}', key), "header"));
        }
      })
      window.swaggerUi.load();
    });

    </script>
  </head>
  <body class='swagger-section'>
    <div id='container'>
      <div id='logo-wrap'>
        <div id='logo'></div>
        <div id='logo-gap'></div>
      </div>
      <div id='head'></div>
      <div id='gap'></div>
      <div id='swagger-body'>
        <div id='header' class='swagger-ui-wrap'>
          <form id='api_selector' onsubmit="return false;">
            <p>Authorization: Bearer {token_value}</p>
            <div class='input'><input placeholder="http://example.com/api" id="input_baseUrl" name="baseUrl" type="hidden" /></div>
            <div class='input'><input placeholder="token_value" id="input_apiKey" name="apiKey" type="text"/></div>
            <div class='input'><a id="explore" href="#" title="Explore the API"></a></div>
          </form>
        </div>
        <div id="swagger-ui-container" class="swagger-ui-wrap" ></div>
        <div id="message-bar" class="swagger-ui-wrap">&nbsp;</div>
      </div>
    </div>
  </body>

</html>
