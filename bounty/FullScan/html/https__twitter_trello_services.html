<html><body><script src="https://p.trellocdn.com/power-up.min.js"></script><script>!function t(e,r,n){function o(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return o(r||t)},l,l.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){"use strict";var n=t("../src/api"),o=t("../src/i18n-settings"),i=t("../src/twitter-button"),a=t("../src/twitter-error"),s=t("../src/urls"),u=t("../src/decode"),c=(TrelloPowerUp.Promise,"./images/icon.svg");TrelloPowerUp.initialize({"attachment-sections":function(t,e){var r=e.entries.filter(function(t){return s.isTwitter(t.url)});return 0==r.length?[]:(r.reverse(),[{icon:c,claimed:r,title:t.localizeKey("tweets"),content:{type:"iframe",url:t.signUrl('./tweets.html?ver=40dcda94c9&')}}])},"attachment-thumbnail":function(t,e){var r=s.parse(e.url);if(r.status)return n.get(t,"statuses/show.json",{id:r.status}).then(function(e){return{title:e.text,created:Date.parse(e.created_at),createdBy:"@"+e.user.screen_name,openText:t.localizeKey("open_in_twitter"),image:{url:c,logo:!0}}}).catch(a,function(){throw t.NotHandled()});throw t.NotHandled()},"card-badges":function(t,e){var r=e.attachments.filter(function(t){return s.isTwitter(t.url)});return r.length>0?[{text:r.length,icon:c}]:[]},"card-buttons":function(t){return t.memberCanWriteToModel("card")?[{icon:c,text:t.localizeKey("twitter"),callback:i}]:[]},"format-url":function(t,e){var r=s.parse(e.url);if(r.handle)return{icon:c,text:t.localizeKey("tweet_from_handle",{handle:r.handle})};throw t.NotHandled()},"card-from-url":function(t,e){var r=e.url,o=s.parse(r);if(!o.status)throw t.NotHandled();return n.get(t,"statuses/show.json",{id:o.status}).then(function(t){return{name:u(t.text)}}).catch(a,function(){throw t.NotHandled()})}},{targetOrigin:"https://trello.com",localization:o})},{"../src/api":2,"../src/decode":3,"../src/i18n-settings":4,"../src/twitter-button":5,"../src/twitter-error":6,"../src/urls":7}],2:[function(t,e,r){"use strict";var n=t("./twitter-error"),o=TrelloPowerUp.Promise,i={400:n.BadRequest,401:n.Unauthorized,403:n.Forbidden,404:n.NotFound,406:n.NotAcceptable,410:n.Gone,420:n.TooManyRequests,422:n.UnprocessableEntity,429:n.TooManyRequests,500:n.InternalServerError,502:n.BadGateway,503:n.ServiceUnavailable,504:n.GatewayTimeout},a=function(t,e){return new(i[t]||n.Unknown)(e)};e.exports={get:function(t,e,r){return o.all([t.get("board","private","token"),t.get("organization","private","token")]).spread(function(t,e){return t||e}).then(function(t){return new o(function(o,i){if(!t)return i(new n.Unauthorized);var s=new XMLHttpRequest;r=r||{};var u="?"+Object.keys(r).map(function(t){return[t,encodeURIComponent(r[t])].join("=")}).join("&");e=[e,u].join(""),s.open("GET","./api?token="+encodeURIComponent(t)+"&url="+encodeURIComponent(e),!0),s.onload=function(){var t=void 0;try{t=JSON.parse(s.responseText)}catch(t){return i(new n.InvalidResponse(t.message))}200==s.status?o(t):i(a(s.status,t.errors[0].message))},s.send()})})}}},{"./twitter-error":6}],3:[function(t,e,r){"use strict";e.exports=function(t){return t.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&")}},{}],4:[function(t,e,r){"use strict";e.exports={defaultLocale:"en",supportedLocales:["cs","de","en","es","fi","fr","hu","it","ja","nb","nl","pl","pt-BR","ru","sv","th","tr","uk","vi","zh-Hans","zh-Hant"],resourceUrl:"./strings/{locale}.json?ver=e00a1282d2"}},{}],5:[function(t,e,r){"use strict";TrelloPowerUp.Promise;e.exports=function(t){return t.popup({title:t.localizeKey("attach_tweet"),url:'./attach.html?ver=8ed7753ede&',width:200,height:78})}},{}],6:[function(t,e,r){"use strict";e.exports=TrelloPowerUp.util.makeErrorEnum("Twitter",["BadGateway","BadRequest","Forbidden","GatewayTimeout","Gone","InternalServerError","InvalidResponse","NotAcceptable","NotFound","ServiceUnavailable","TooManyRequests","Unauthorized","Unknown","UnprocessableEntity"])},{}],7:[function(t,e,r){"use strict";var n=function(t){return 0===t.indexOf("https://twitter.com/")};e.exports={parse:function(t){var e={url:t};if(!n(t))return e;e.isTwitterUrl=!0;var r=/^https?:\/\/twitter\.com\/([^\/]+)\/status\/(\d+)\/?/.exec(t);return r?(e.handle=r[1],e.status=r[2],e):e},isTwitter:n}},{}]},{},[1]);</script></body></html>