<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta name="robots" content="noindex, nofollow">
    <script src="https://creditkarmacdn-a.akamaihd.net/res/content/bundles/3ps/1.12.10/sentry/4.1.1/bundle.min.js" nonce="f680d481ac17e75e281df4ec5beb44cc" crossorigin="anonymous"></script>
    <script type="text/javascript" nonce="f680d481ac17e75e281df4ec5beb44cc">
        var validDomains = "https://www.creditkarma.com,https://www.creditkarma.ca,https://creditkarma.ca,https://accounts.creditkarma.com,https://tax.creditkarma.com";

        try {
            Sentry.init({
                dsn: "https://e07569c9713542148f9c14129322aae1@sentry.io/1489191",
                release: "tags-iframe-service@2.13.1",
                defaultIntegrations: false
            });
        } catch(err) {
            console.error('Unable to initialize Sentry for tealium tags service');
        }

        window.addEventListener('message', function(e) {
            try {
                if (!(validDomains.indexOf(e.origin) > -1)) {
                    return;
                }

                var utagType = e.data.IS_PRODUCTION ? 'prod' : 'dev';

                if (typeof e.data.utag !== 'undefined') {
                    window.TRACE_ID = e.data.TRACE_ID;
                    window.utag_data = e.data.utag;
                    window.top_url = e.data.top_url;

                    (function(a,b,c,d){
                        a='//tags.tiqcdn.com/utag/creditkarma/main/' + utagType + '/utag.js'; b=document;c='script';d=b.createElement(c);d.src=a; d.type='text/java'+c;d.async=true; a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a)
                    })()
                } else if (typeof e.data.utag_event !== 'undefined' && typeof utag !== 'undefined' && typeof utag.link === 'function') {
                    // utag.js should be available on the page at this point
                    // the mapping is already done so send the payload
                    utag.link(e.data.utag_event);
                } else if (typeof e.data.utag_view !== 'undefined' && typeof utag !== 'undefined' && typeof utag.view === 'function') {
                    utag.view(e.data.utag_view);
                }
            } catch (err) {
                Sentry.captureException(err);
            }
        });
    </script>
</head>
<body></body>
</html>
